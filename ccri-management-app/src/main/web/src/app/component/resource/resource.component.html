<mat-card>
    <mat-card-title>Search Builder - {{currentResource}}</mat-card-title>
    <mat-divider></mat-divider>
    <mat-card-content>

        <span flex-auto fxLayoutAlign="space-between center">
          <mat-form-field >
                <mat-select #field placeholder="Search Field" [(ngModel)]="selectedValue" name="food">
                    <mat-option *ngFor="let option of options" [value]="option">
                        {{option.name}} - {{option.documentation}}
                    </mat-option>
                </mat-select>

            </mat-form-field>
            <button mat-icon-button color="accent" (click)="onAdd()"><mat-icon>add_circle</mat-icon></button>
        </span>

    </mat-card-content>
</mat-card>
<mat-card>
    <mat-card-title>Search Form</mat-card-title>
    <mat-divider></mat-divider>
    <mat-card-content>
        <td-dynamic-forms #form [elements]="elements">
          <ng-template let-element ngFor [ngForOf]="elements">
            <ng-template let-control="control" [tdDynamicFormsError]="element.name">
                <span *ngIf="control.touched || !control.pristine">
                  <span *ngIf="control.hasError('required')">Required</span>
                  <span *ngIf="control.hasError('min')">Min value: {{element.min}}</span>
                  <span *ngIf="control.hasError('max')">Max value: {{element.max}}</span>
                  <span *ngIf="control.hasError('minlength')">Min length value: {{element.minLength}}</span>
                  <span *ngIf="control.hasError('maxlength')">Max length value: {{element.minLength}}</span>
                </span>
            </ng-template>
          </ng-template>
        </td-dynamic-forms>
        <span *ngIf="progressBar">
          <mat-progress-bar mode="indeterminate"></mat-progress-bar>
        </span>
    </mat-card-content>
  <mat-divider></mat-divider>
  <mat-card-actions>
    <a mat-button button color="accent" class="text-upper" (click)="onSearch()">
     <!-- <mat-icon>search</mat-icon> -->
      <span>Search</span>
    </a>
  </mat-card-actions>
</mat-card>
<span *ngIf="resource !== undefined">
  <mat-card>
      <mat-card-title>Results</mat-card-title>
      <mat-card-subtitle>GET <b>{{query}}</b></mat-card-subtitle>
      <mat-divider></mat-divider>
      <mat-card-content>

          <td-json-formatter [data]="resource" key="response" [levelsOpen]="8">
          </td-json-formatter>
      </mat-card-content>
  </mat-card>
</span>

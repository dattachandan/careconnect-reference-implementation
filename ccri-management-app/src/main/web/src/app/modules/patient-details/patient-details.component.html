<div fxLayout="row"
     fxFlexFill >
    <div fxFlex="100">
        <span *ngIf="patient !== undefined">
            <mat-card>
                <mat-card-content>
                <div class="container" layout="row" layout-align="start center" flex>
              <span> &nbsp;  <b>{{ getLastName(patient)}}</b>{{getFirstName(patient)}}</span>
              <span flex ></span>

              &nbsp; <i>DOB:</i><b>&nbsp;{{patient.birthDate | date: 'dd-MMM-yyyy'}}</b>

              <span flex></span>
              <span>
                                   &nbsp;<i>Gender:</i><b>&nbsp; {{ patient.gender }}</b>
                                </span>
              <span flex></span>

              &nbsp;<i>NHS No:</i><b>&nbsp;{{ getNHSIdentifier(patient) }}</b>

            </div>
                    </mat-card-content>
                </mat-card>
            </span>
    </div>
</div>
<div fxLayout="row"
     fxFlexFill >
  <!-- Left pane -->
    <div fxFlex="50">
        <mat-card>
            <mat-card-title>YAS Record (CCRI Record)</mat-card-title>
            <mat-card-content>
          <span *ngIf="documents.length>0">
              <h4>Document Reference</h4>
              <app-document-reference [documents]="documents" (form)="onResoureSelected($event)"></app-document-reference>
          </span>
                <span *ngIf="encounters.length>0">
              <h4>Encounter</h4>
              <app-encounter [encounters]="encounters" [useBundle]="true" (encounter)="onResoureSelected($event)"></app-encounter>
          </span>

                <span *ngIf="observations.length>0">
              <h4>Observations</h4>
              <app-observation [observations]="observations" (observation)="onResoureSelected($event)"></app-observation>
          </span>


            </mat-card-content>
        </mat-card>
    </div>
  <div fxFlex="50">
      <mat-card>
          <mat-card-title>National Record Locator Service</mat-card-title>
          <mat-card-content>
        <span *ngIf="nrlsdocuments.length>0">
              <h4>Document Reference</h4>
              <app-document-reference [documents]="nrlsdocuments" (form)="onResoureSelected($event)"></app-document-reference>
          </span>
              <span *ngIf="nrlsdocuments.length===0">
          No records found
        </span>
          </mat-card-content>
      </mat-card>
    <mat-card>
      <mat-card-title>GP Record</mat-card-title>
      <mat-card-content>
          <span *ngIf="gpPatient.length>0">
            <h2>Patient</h2>
          <app-patient [patients]="gpPatient"> </app-patient>
        </span>
        <span *ngIf="gpallergies.length>0">
            <h2>Allergies and Intolerances</h2>
          <app-allergy-intolerance [allergies]="gpallergies"> </app-allergy-intolerance>
        </span>
<!--
        <span *ngIf="gpMedicationRequest.length>0">
             <h2>Prescriptions Issues</h2>
          <app-medication-request [medicationRequests]="gpMedicationRequest"> </app-medication-request>
        </span>
        -->
          <span *ngIf="gpMedicationStatement.length>0">
               <h2>Medication Statement</h2>
          <app-medication-statement [medicationStatements]="gpMedicationStatement"> </app-medication-statement>
        </span>
      </mat-card-content>
    </mat-card>

  </div>

</div>
<div fxLayout="row"
     fxFlexFill >
    <div fxFlex="100">

            <mat-card>
                <mat-card-content>
               <h2>LHCRE Record</h2>
                </mat-card-content>
            </mat-card>
                    <span *ngIf="lhcreConditions.length>0">
                         <mat-card>
                         <mat-card-content>
                        <h2>Conditions</h2>
                        <app-condition [conditions]="lhcreConditions"> </app-condition>
                         </mat-card-content>
                         </mat-card>
                    </span>
                    <span *ngIf="lhcreAllergies.length>0">
                         <mat-card>
                         <mat-card-content>
                        <h2>Allergies and Intolerances</h2>
                        <app-allergy-intolerance [allergies]="lhcreAllergies"> </app-allergy-intolerance>
                             </mat-card-content>
                         </mat-card>
                    </span>
                    <span *ngIf="lhcreMedicationStatement.length>0">
                         <mat-card>
                         <mat-card-content>

                        <h2>Medication Statement</h2>
                        <app-medication-statement [medicationStatements]="lhcreMedicationStatement"> </app-medication-statement>
                             </mat-card-content>
                         </mat-card>
                    </span>
                    <span *ngIf="lhcreEncounters.length>0">
                         <mat-card>
                         <mat-card-content>
                        <h2>Encounter</h2>
                        <app-encounter [encounters]="lhcreEncounters"> </app-encounter>

                             </mat-card-content>
                         </mat-card>
                    </span>


    </div>
</div>




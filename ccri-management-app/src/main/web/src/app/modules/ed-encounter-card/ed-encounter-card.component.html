<mat-card>
  <mat-card-content>
      <div fxLayout="row"
           fxFlexFill >
        <!-- Left pane -->
        <div fxFlex="75" layout-margin="3%">
          <div>
          <span *ngIf="patient != undefined">
            <div class="container" layout="row" layout-align="start center" flex>
              <span> &nbsp;  <b>{{ getLastName(patient)}}</b>{{getFirstName(patient)}}</span>
              <span flex ></span>

              &nbsp; <i>DOB:</i><b>&nbsp;{{patient.birthDate | date: 'dd-MMM-yyyy'}}</b>

              <span flex></span>
              <span>
                                   &nbsp;<i>Gender:</i><b>&nbsp; {{ patient.gender }}</b>
                                </span>
              <span flex></span>

              &nbsp;<i>NHS No:</i><b>&nbsp;{{ getNHSIdentifier(patient) }}</b>

            </div>
          </span>

          <div class="container" layout="row" layout-align="start center" flex>
            <span *ngFor="let diagnosis of encounter.diagnosis">
                <h2>{{diagnosis.condition.display}}</h2>
            </span>
            <span flex></span>
                <span>
                    <!-- Status <b>{{encounter.status}}</b> -->
                    <span *ngIf="encounter.status == 'triaged'"><mat-icon>phone</mat-icon><mat-icon>chevron_right</mat-icon><mat-icon>airport_shuttle</mat-icon></span>
                <span *ngIf="encounter.status == 'in-progress'"><mat-icon>airport_shuttle</mat-icon><mat-icon>chevron_right</mat-icon><mat-icon>local_hospital</mat-icon> </span>
             </span>
          <span flex></span>
          <span>Incident Start <span *ngIf="encounter.period !== undefined"><b> {{encounter.period.start | date: 'HH:mm'}} </b></span></span>
        </div>

              <mat-chip-list>
                  <span *ngIf="news2 !== undefined"><mat-chip color="warn" selected="true"><mat-icon>warning</mat-icon> NEWS2 - {{news2}}</mat-chip></span>
                  <span *ngIf="heart!==undefined"><mat-chip>Pulse - {{heart}}</mat-chip></span>
                  <span *ngIf="temp!==undefined"><mat-chip>Temp - {{temp}}</mat-chip></span>
                  <span *ngIf="bp !== undefined"><mat-chip>BP - {{bp}}</mat-chip></span>
                  <span *ngIf="o2 !==undefined"><mat-chip>O2 - {{o2}}%</mat-chip></span>
                  <span *ngIf="air !== undefined"><mat-chip>Air - {{air}}</mat-chip></span>
                  <span *ngIf="alert !== undefined"><mat-chip>Alert - {{alert}}</mat-chip></span>
              </mat-chip-list>
        <!--  <td-expansion-panel disableRipple>
              <ng-template td-expansion-panel-label>
                <span>Encounter Details</span>
              </ng-template>
              <span *ngIf="encounters.length>0">
                <app-encounter [encounters]="encounters"></app-encounter>
              </span>

          </td-expansion-panel> -->
          <span *ngIf="nrlsdocuments !== undefined && nrlsdocuments.length > 0">
                <td-message #messageDemo color="warn" label="Mental Health Care Plan" icon="warning" >
                  <button td-message-actions mat-icon-button (click)="messageDemo.close()"><mat-icon>cancel</mat-icon></button>
                </td-message>
          </span>
            <button mat-button color="accent" fxFlexAlign="end" (click)="viewDetails(patient)">Patient Record</button>
          </div>
        </div>
       <!-- righy map pane -->
          <!--
        <div fxFlex="25" layout-margin="3%" >
          <span *ngIf="coords!==undefined">
            <ngui-map class="map" zoom="13"
                      [center]="coords"
                      (mapReady$)="onMapReady($event)"
                      (mapClick)="onMapClick($event)"
                      (idle)="onIdle($event)">
              <marker *ngFor="let pos of positions" [position]="pos"></marker>
            </ngui-map>
          </span>
        </div>
        -->
      </div>
  </mat-card-content>
 <!-- <mat-card-actions>

  </mat-card-actions> -->
</mat-card>
